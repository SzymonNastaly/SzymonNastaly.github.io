<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
      <title>Szymon Nastaly</title>
      <link>https://szymonnastaly.com</link>
      <description>Personal Website of Szymon Nastaly</description>
      <generator>Zola</generator>
      <language>en</language>
      <atom:link href="https://szymonnastaly.com/rss.xml" rel="self" type="application/rss+xml"/>
      <lastBuildDate>Sun, 26 Jan 2025 00:00:00 +0000</lastBuildDate>
      <item>
          <title>Four Months in Oman</title>
          <pubDate>Sun, 26 Jan 2025 00:00:00 +0000</pubDate>
          <author>Unknown</author>
          <link>https://szymonnastaly.com/blog/four-months-in-oman/</link>
          <guid>https://szymonnastaly.com/blog/four-months-in-oman/</guid>
          <description xml:base="https://szymonnastaly.com/blog/four-months-in-oman/">       
&lt;figure style=&quot;margin: 1rem auto; text-align: center&quot;&gt;
  &lt;img
    src=&quot;https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;wadi-shab.27fa6b96b6e4cc53.jpg&quot;
    srcset=&quot;https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;wadi-shab.27fa6b96b6e4cc53.jpg 800w, 
                https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;wadi-shab.30865ad834488d6d.jpg 1200w, 
                https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;wadi-shab.69b467445a4a2902.jpg 1600w&quot;
    sizes=&quot;(max-width: 800px) 800px,
               (max-width: 1200px) 1200px,
               1600px&quot;
    width=&quot;800&quot;
    height=&quot;600&quot;
    loading=&quot;lazy&quot;
    alt=&quot;Me in the Wadi Shab&quot;
    style=&quot;
      display: block;
      max-width: 100%;
      height: auto;
      border-radius: 4px;
      margin: 0 auto;
    &quot;
  &#x2F;&gt;
  
  &lt;figcaption
    class=&quot;secondary&quot;
    style=&quot;margin-top: 0.2em; text-align: center; font-size: 0.9em&quot;
  &gt;
    Me in the Wadi Shab
  &lt;&#x2F;figcaption&gt;
  
&lt;&#x2F;figure&gt;
&lt;h2 id=&quot;notes&quot;&gt;Notes&lt;&#x2F;h2&gt;
&lt;p&gt;After finishing my Bachelors thesis at ETH, I spent four months (September 2024 to January 2025) at the German University of Technology where I worked
as a teaching assistant.
The work was fine and I really liked my colleagues, but the main goal of me and my girlfriend (who also went to Oman) was to get to know a completely
different country.
Therefore, we have tried to use the occasion to travel as much as possible throughout the country and spend time with friends getting to know the
very different culture.&lt;&#x2F;p&gt;
&lt;h3 id=&quot;our-travels&quot;&gt;Our Travels&lt;&#x2F;h3&gt;
&lt;p&gt;Oman is a huge country that you can mostly travel by yourself via the well-maintained road and highway
network.
But because there is effectively no public transport, you will definitely need to rent a car!&lt;&#x2F;p&gt;
       
&lt;figure style=&quot;margin: 1rem auto; text-align: center&quot;&gt;
  &lt;img
    src=&quot;https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;highway-view.1659f3434e396158.jpg&quot;
    srcset=&quot;https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;highway-view.1659f3434e396158.jpg 800w, 
                https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;highway-view.3d68584c4c214ec7.jpg 1200w, 
                https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;highway-view.6a6e7988b6ed52aa.jpg 1600w&quot;
    sizes=&quot;(max-width: 800px) 800px,
               (max-width: 1200px) 1200px,
               1600px&quot;
    width=&quot;800&quot;
    height=&quot;410&quot;
    loading=&quot;lazy&quot;
    alt=&quot;Typical landscape when traveling on the highway&quot;
    style=&quot;
      display: block;
      max-width: 100%;
      height: auto;
      border-radius: 4px;
      margin: 0 auto;
    &quot;
  &#x2F;&gt;
  
  &lt;figcaption
    class=&quot;secondary&quot;
    style=&quot;margin-top: 0.2em; text-align: center; font-size: 0.9em&quot;
  &gt;
    Typical landscape when traveling on the highway
  &lt;&#x2F;figcaption&gt;
  
&lt;&#x2F;figure&gt;
&lt;p&gt;Oman has a beautiful geology, nature and beautiful cities one should visit.
&lt;em&gt;Wadis&lt;&#x2F;em&gt; (Arabic word for river valleys) have beautiful greenery which is very rare in the rest of the desert country.
The most famous and widely visited wadi is called &lt;em&gt;Wadi Shab&lt;&#x2F;em&gt; and I definitely recommend a visit!&lt;&#x2F;p&gt;
&lt;p&gt;But there are also many others.&lt;&#x2F;p&gt;
    
  
&lt;figure style=&quot;margin: 1rem auto; text-align: center&quot;&gt;
  &lt;img
    src=&quot;https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;wadi-qurai.f124751fb6b603e6.jpg&quot;
    srcset=&quot;https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;wadi-qurai.f124751fb6b603e6.jpg 450w, 
                https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;wadi-qurai.05461f6df83b85a7.jpg 750w, 
                https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;wadi-qurai.a55b528b1cce7974.jpg 1050w&quot;
    sizes=&quot;(max-width: 450px) 450px,
               (max-width: 750px) 750px,
               1050px&quot;
    width=&quot;450&quot;
    height=&quot;600&quot;
    loading=&quot;lazy&quot;
    alt=&quot;Wadi Qurai is less frequented by tourists&quot;
    style=&quot;
      display: block;
      max-width: 100%;
      height: auto;
      border-radius: 4px;
      margin: 0 auto;
    &quot;
  &#x2F;&gt;
  
  &lt;figcaption
    class=&quot;secondary&quot;
    style=&quot;margin-top: 0.2em; text-align: center; font-size: 0.9em&quot;
  &gt;
    Wadi Qurai is less frequented by tourists
  &lt;&#x2F;figcaption&gt;
  
&lt;&#x2F;figure&gt;
&lt;p&gt;In many parts of Oman one can still find remainings of life before technology.
In the old village of Ibra, we learned about have traditionally small villages were built.
There are also many forts throughout Oman: Nizwa (the old capital) has the Nizwa Fort and a beautiful old city.&lt;&#x2F;p&gt;
       
&lt;figure style=&quot;margin: 1rem auto; text-align: center&quot;&gt;
  &lt;img
    src=&quot;https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;birkat-al-mouz-ruins.143069db7a7573c9.jpg&quot;
    srcset=&quot;https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;birkat-al-mouz-ruins.143069db7a7573c9.jpg 800w, 
                https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;birkat-al-mouz-ruins.e14b5541c6624172.jpg 1200w, 
                https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;birkat-al-mouz-ruins.329794a40d29e9d8.jpg 1600w&quot;
    sizes=&quot;(max-width: 800px) 800px,
               (max-width: 1200px) 1200px,
               1600px&quot;
    width=&quot;800&quot;
    height=&quot;600&quot;
    loading=&quot;lazy&quot;
    alt=&quot;Ruins in Birkat al Mouz, close to Nizwa&quot;
    style=&quot;
      display: block;
      max-width: 100%;
      height: auto;
      border-radius: 4px;
      margin: 0 auto;
    &quot;
  &#x2F;&gt;
  
  &lt;figcaption
    class=&quot;secondary&quot;
    style=&quot;margin-top: 0.2em; text-align: center; font-size: 0.9em&quot;
  &gt;
    Ruins in Birkat al Mouz, close to Nizwa
  &lt;&#x2F;figcaption&gt;
  
&lt;&#x2F;figure&gt;
&lt;p&gt;But there are also forts in Bahla, Sohar, and many others.&lt;&#x2F;p&gt;
       
&lt;figure style=&quot;margin: 1rem auto; text-align: center&quot;&gt;
  &lt;img
    src=&quot;https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;city-bahla.ee3fb22ad96fb320.jpg&quot;
    srcset=&quot;https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;city-bahla.ee3fb22ad96fb320.jpg 800w, 
                https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;city-bahla.f141680fd4124fb0.jpg 1200w, 
                https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;city-bahla.dc777d53720d3a35.jpg 1600w&quot;
    sizes=&quot;(max-width: 800px) 800px,
               (max-width: 1200px) 1200px,
               1600px&quot;
    width=&quot;800&quot;
    height=&quot;600&quot;
    loading=&quot;lazy&quot;
    alt=&quot;View from Bahla Fort&quot;
    style=&quot;
      display: block;
      max-width: 100%;
      height: auto;
      border-radius: 4px;
      margin: 0 auto;
    &quot;
  &#x2F;&gt;
  
  &lt;figcaption
    class=&quot;secondary&quot;
    style=&quot;margin-top: 0.2em; text-align: center; font-size: 0.9em&quot;
  &gt;
    View from Bahla Fort
  &lt;&#x2F;figcaption&gt;
  
&lt;&#x2F;figure&gt;
&lt;p&gt;And of course, one should also see the desert!
While the majority of central Oman is considered desert, only small parts of it have the beautiful sand dunes.
The most famous location for those is called &lt;em&gt;Wahiba sands&lt;&#x2F;em&gt;.
Together with multiple other cars and professional guides (this is recommended if you don&#x27;t want to get lost or stuck),
we drove through the desert, camped on a dune.&lt;&#x2F;p&gt;
       
&lt;figure style=&quot;margin: 1rem auto; text-align: center&quot;&gt;
  &lt;img
    src=&quot;https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;wahabi-sands-dune.9bb2d15ac2c37dcf.jpg&quot;
    srcset=&quot;https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;wahabi-sands-dune.9bb2d15ac2c37dcf.jpg 800w, 
                https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;wahabi-sands-dune.4e267c0c45630b01.jpg 1200w, 
                https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;wahabi-sands-dune.198950bded552d03.jpg 1600w&quot;
    sizes=&quot;(max-width: 800px) 800px,
               (max-width: 1200px) 1200px,
               1600px&quot;
    width=&quot;800&quot;
    height=&quot;600&quot;
    loading=&quot;lazy&quot;
    alt=&quot;Desert view in the morning&quot;
    style=&quot;
      display: block;
      max-width: 100%;
      height: auto;
      border-radius: 4px;
      margin: 0 auto;
    &quot;
  &#x2F;&gt;
  
  &lt;figcaption
    class=&quot;secondary&quot;
    style=&quot;margin-top: 0.2em; text-align: center; font-size: 0.9em&quot;
  &gt;
    Desert view in the morning
  &lt;&#x2F;figcaption&gt;
  
&lt;&#x2F;figure&gt;
&lt;p&gt;On the second day, we continued west to beautiful sandy beaches.&lt;&#x2F;p&gt;
       
&lt;figure style=&quot;margin: 1rem auto; text-align: center&quot;&gt;
  &lt;img
    src=&quot;https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;beach-gulf-of-masira.7548cb2209493a12.jpg&quot;
    srcset=&quot;https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;beach-gulf-of-masira.7548cb2209493a12.jpg 800w, 
                https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;beach-gulf-of-masira.96d4e2f9320af057.jpg 1200w, 
                https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;beach-gulf-of-masira.7e681e7794aa2e4a.jpg 1600w&quot;
    sizes=&quot;(max-width: 800px) 800px,
               (max-width: 1200px) 1200px,
               1600px&quot;
    width=&quot;800&quot;
    height=&quot;600&quot;
    loading=&quot;lazy&quot;
    alt=&quot;Camping on a beach at the Gulf of Masira (western coast of Oman)&quot;
    style=&quot;
      display: block;
      max-width: 100%;
      height: auto;
      border-radius: 4px;
      margin: 0 auto;
    &quot;
  &#x2F;&gt;
  
  &lt;figcaption
    class=&quot;secondary&quot;
    style=&quot;margin-top: 0.2em; text-align: center; font-size: 0.9em&quot;
  &gt;
    Camping on a beach at the Gulf of Masira (western coast of Oman)
  &lt;&#x2F;figcaption&gt;
  
&lt;&#x2F;figure&gt;
&lt;p&gt;Oman also has a few mountains, such &lt;em&gt;Jabal Shams&lt;&#x2F;em&gt; and &lt;em&gt;Jabal Akhdar&lt;&#x2F;em&gt;.
They are very popular because of their cooler temperatures, hiking paths.
Both are very beautiful, and we even camped on Jabal Shams (and it was freezing cold at night!).
There, we were also invited for an evening fireside chat and tea by three Omanis - this is very
indicative of the welcoming Omani culture.&lt;&#x2F;p&gt;
       
&lt;figure style=&quot;margin: 1rem auto; text-align: center&quot;&gt;
  &lt;img
    src=&quot;https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;jabal-shams-tea.eb76c82f11b307c6.jpg&quot;
    srcset=&quot;https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;jabal-shams-tea.eb76c82f11b307c6.jpg 800w, 
                https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;jabal-shams-tea.92e6b3147cc146ad.jpg 1200w, 
                https:&amp;#x2F;&amp;#x2F;szymonnastaly.com&amp;#x2F;processed_images&amp;#x2F;jabal-shams-tea.648cd48ba9a6b7c0.jpg 1600w&quot;
    sizes=&quot;(max-width: 800px) 800px,
               (max-width: 1200px) 1200px,
               1600px&quot;
    width=&quot;800&quot;
    height=&quot;600&quot;
    loading=&quot;lazy&quot;
    alt=&quot;Enjoying hot tea on the cold Jabal Shams&quot;
    style=&quot;
      display: block;
      max-width: 100%;
      height: auto;
      border-radius: 4px;
      margin: 0 auto;
    &quot;
  &#x2F;&gt;
  
  &lt;figcaption
    class=&quot;secondary&quot;
    style=&quot;margin-top: 0.2em; text-align: center; font-size: 0.9em&quot;
  &gt;
    Enjoying hot tea on the cold Jabal Shams
  &lt;&#x2F;figcaption&gt;
  
&lt;&#x2F;figure&gt;
&lt;h3 id=&quot;culture-and-people&quot;&gt;Culture and People&lt;&#x2F;h3&gt;
&lt;p&gt;Before coming to Oman, I had never visited any Arab or even Muslim country.
Although many things in Oman are very different, we fortunately never had any true culture shock because our friends were always happy to answer any stupid questions, and Omanis are generally very accepting to Westerners not adhering to the Omani norms.
For example, when you google &quot;Omani people&quot; you will see the typical cloths of men and women: white dishdashas and black abayas.
So as a westerner, you will always stick out. Still you should wear modest clothing - covering knees and shoulders
(in general I always wore long pants, and most of the time long-sleeved shirts).
But if you would wear something like shorts, no Omani would ever come up to you and comment on it - but more conservative people would definitely find it not ideal.&lt;&#x2F;p&gt;
&lt;p&gt;We also noticed other big differences.
Casual dating in the western understanding is basically non-existent.
Young people from conservative households basically have to marry first.
And even in less strict families, young people restrict their dating to meeting and strolling on campus, sometimes going to public places like cinemas, or coffee places - but never to each others home.&lt;&#x2F;p&gt;
</description>
      </item>
      <item>
          <title>Working with Middle Sized CSV Files</title>
          <pubDate>Sun, 07 Jul 2024 00:00:00 +0000</pubDate>
          <author>Unknown</author>
          <link>https://szymonnastaly.com/til/working-with-middle-sized-csv/</link>
          <guid>https://szymonnastaly.com/til/working-with-middle-sized-csv/</guid>
          <description xml:base="https://szymonnastaly.com/til/working-with-middle-sized-csv/">&lt;h2 id=&quot;first-ideas&quot;&gt;First Ideas&lt;&#x2F;h2&gt;
&lt;p&gt;For my bachelor&#x27;s thesis, I had to retrieve some data from a CSV file of around 90MB.&lt;&#x2F;p&gt;
&lt;p&gt;I first tried working with some CSV-focused tools like the
&lt;a href=&quot;https:&#x2F;&#x2F;marketplace.visualstudio.com&#x2F;items?itemName=mechatroner.rainbow-csv&quot;&gt;Rainbow CSV VSCode&lt;&#x2F;a&gt; extension
or &lt;a href=&quot;https:&#x2F;&#x2F;csvfiddle.io&#x2F;&quot;&gt;CSVFiddle.io&lt;&#x2F;a&gt;.&lt;&#x2F;p&gt;
&lt;p&gt;Both of those support SQL (or at least SQL-like) queries.
Unfortunately, both tools break at various points, especially with increasing CSV file sizes or more complex queries.&lt;&#x2F;p&gt;
&lt;h2 id=&quot;use-sqlite&quot;&gt;Use SQLite&lt;&#x2F;h2&gt;
&lt;p&gt;In the end, I decided to just use SQLite.&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;Create a new SQLite database:&lt;pre data-lang=&quot;sql&quot; style=&quot;background-color:#1e1e1e;color:#dcdcdc;&quot; class=&quot;language-sql &quot;&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span&gt;sqlite3 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b4cea8;&quot;&gt;temp&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b4cea8;&quot;&gt;db
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;Setting csv mode and creating a table&lt;pre data-lang=&quot;sql&quot; style=&quot;background-color:#1e1e1e;color:#dcdcdc;&quot; class=&quot;language-sql &quot;&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span&gt;.mode csv tablename
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;Importing your csv into the table&lt;pre data-lang=&quot;sql&quot; style=&quot;background-color:#1e1e1e;color:#dcdcdc;&quot; class=&quot;language-sql &quot;&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span&gt;.import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b4cea8;&quot;&gt;filename&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b4cea8;&quot;&gt;csv&lt;&#x2F;span&gt;&lt;span&gt; tablename
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;Start using true SQL!&lt;pre data-lang=&quot;sql&quot; style=&quot;background-color:#1e1e1e;color:#dcdcdc;&quot; class=&quot;language-sql &quot;&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;select &lt;&#x2F;span&gt;&lt;span&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;from&lt;&#x2F;span&gt;&lt;span&gt; tablename &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;limit &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h2 id=&quot;interesting-and-helpful-links&quot;&gt;Interesting and helpful links:&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;a href=&quot;https:&#x2F;&#x2F;stackoverflow.com&#x2F;a&#x2F;56335100&quot;&gt;stackoverflow answer&lt;&#x2F;a&gt; explaining the CSV to SQLite workflow&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;blog.wesleyac.com&#x2F;posts&#x2F;consider-sqlite&quot;&gt;Consider SQLite&lt;&#x2F;a&gt; by Wesley Aptekar-Cassels&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;gcollazo.com&#x2F;optimal-sqlite-settings-for-django&#x2F;&quot;&gt;Optimal SQLite settings for Django&lt;&#x2F;a&gt; by Giovanni Collazo&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</description>
      </item>
      <item>
          <title>Captured Click Events and Browser Extensions</title>
          <pubDate>Fri, 24 May 2024 00:00:00 +0000</pubDate>
          <author>Unknown</author>
          <link>https://szymonnastaly.com/til/captured-click-events/</link>
          <guid>https://szymonnastaly.com/til/captured-click-events/</guid>
          <description xml:base="https://szymonnastaly.com/til/captured-click-events/">&lt;p&gt;In the chrome extension I am developing, I inject a content script UI into the page. This UI is a React interface that has a few buttons (with &lt;code&gt;onClick&lt;&#x2F;code&gt; handlers).&lt;&#x2F;p&gt;
&lt;p&gt;I found that some sites prevent DOM elements lower in the tree to react to click events. They do this by registering their EventListener with &lt;code&gt;{capture: true}&lt;&#x2F;code&gt; and the &lt;code&gt;stopPropagation()&lt;&#x2F;code&gt; method.&lt;&#x2F;p&gt;
&lt;p&gt;Unfortunately we cannot do anything against both of those things.&lt;&#x2F;p&gt;
&lt;p&gt;Ideally we could just remove all of the event listeners completely. Unfortunately I was not able to do that:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;There are no built in browser functions to get the registered event listeners of some DOM element&lt;&#x2F;li&gt;
&lt;li&gt;I could not get existing npm packages to work in my browser extension.&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;What I therefore decided to do is to add listeners for the events: &lt;code&gt;click&lt;&#x2F;code&gt;, &lt;code&gt;mouseDown&lt;&#x2F;code&gt; and &lt;code&gt;mouseUp&lt;&#x2F;code&gt; , but to call the handler only once:&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;js&quot; style=&quot;background-color:#1e1e1e;color:#dcdcdc;&quot; class=&quot;language-js &quot;&gt;&lt;code class=&quot;language-js&quot; data-lang=&quot;js&quot;&gt;&lt;span style=&quot;color:#9b9b9b;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;React, { useRef } &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;#39;react&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;const &lt;&#x2F;span&gt;&lt;span&gt;MyComponent = () &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;const &lt;&#x2F;span&gt;&lt;span&gt;eventHandled = useRef(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;false&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;const &lt;&#x2F;span&gt;&lt;span&gt;handleEvent = (event) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#608b4e;&quot;&gt;&#x2F;&#x2F; Check if the event has already been handled
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(eventHandled.current) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#608b4e;&quot;&gt;&#x2F;&#x2F; Mark the event as handled
&lt;&#x2F;span&gt;&lt;span&gt;    eventHandled.current = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;true&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#608b4e;&quot;&gt;&#x2F;&#x2F; Event handling logic here
&lt;&#x2F;span&gt;&lt;span&gt;    console.log(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d69d85;&quot;&gt;&amp;#39;Event handled:&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, event.type);
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#608b4e;&quot;&gt;&#x2F;&#x2F; Reset the handled flag after a delay
&lt;&#x2F;span&gt;&lt;span&gt;    setTimeout(() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;=&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;      eventHandled.current = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;false&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span&gt;    }, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b5cea8;&quot;&gt;300&lt;&#x2F;span&gt;&lt;span&gt;); &lt;&#x2F;span&gt;&lt;span style=&quot;color:#608b4e;&quot;&gt;&#x2F;&#x2F; Adjust the delay as needed
&lt;&#x2F;span&gt;&lt;span&gt;  };
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;(
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;button
&lt;&#x2F;span&gt;&lt;span&gt;      onMouseDown={handleEvent}
&lt;&#x2F;span&gt;&lt;span&gt;      onMouseUp={handleEvent}
&lt;&#x2F;span&gt;&lt;span&gt;      onClick={handleEvent}
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;      Click Me
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;&#x2F;button&lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;  );
&lt;&#x2F;span&gt;&lt;span&gt;};
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#569cd6;&quot;&gt;export default &lt;&#x2F;span&gt;&lt;span&gt;MyComponent;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;In the case that a website captures all three of those events, this will of course still not help. But in my testing I have only found websites that were capturing the click event. In that case, the MouseDown event will still be available for the browser extension.&lt;&#x2F;p&gt;
</description>
      </item>
    </channel>
</rss>
